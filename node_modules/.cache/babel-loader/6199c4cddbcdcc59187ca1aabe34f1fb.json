{"ast":null,"code":"var _jsxFileName = \"/Users/admin/Documents/myFiles/csp3FullStack/csp3FrontEnd/src/components/AdminView.js\",\n    _s = $RefreshSig$();\n\nimport React, { useEffect, useState } from 'react';\nimport { Form, Table, Button, Modal, Accordion, Card } from 'react-bootstrap';\nimport { Link } from 'react-router-dom';\nimport moment from 'moment';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n;\nexport default function AdminView(props) {\n  _s();\n\n  const {\n    productsData,\n    fetchData\n  } = props;\n  const [products, setProducts] = useState([]);\n  const [id, setId] = useState(\"\");\n  const [name, setName] = useState(\"\");\n  const [description, setDescription] = useState(\"\");\n  const [price, setPrice] = useState(0);\n  const [showAdd, setShowAdd] = useState(false);\n  const [showEdit, setShowEdit] = useState(false);\n  const [toggle, setToggle] = useState(false);\n  const [ordersList, setOrdersList] = useState([]); // ===================================================\n  // Function for add modal\n\n  const openAdd = () => setShowAdd(true);\n\n  const closeAdd = () => setShowAdd(false); // ===================================================\n  // ===================================================\n  // Function for edit modal\n\n\n  const openEdit = productId => {\n    setId(productId);\n    fetch(`${process.env.REACT_APP_API_URL}/products/${productId}`).then(res => res.json()).then(data => {\n      setName(data.name);\n      setDescription(data.description);\n      setPrice(data.price);\n    });\n    setShowEdit(true);\n  };\n\n  const closeEdit = () => {\n    setName(\"\");\n    setDescription(\"\");\n    setPrice(0);\n    setShowEdit(false);\n  }; // ===================================================\n  // ===================================================\n  // Adding Product function\n\n\n  const addProduct = e => {\n    e.preventDefault();\n    fetch(`${process.env.REACT_APP_API_URL}/products`, {\n      method: 'POST',\n      headers: {\n        Authorization: `Bearer ${localStorage.getItem('token')}`,\n        'Content-Type': 'application/json'\n      },\n      body: JSON.stringify({\n        name: name,\n        description: description,\n        price: price\n      })\n    }).then(res => res.json()).then(data => {\n      if (data === true) {\n        fetchData();\n        alert(\"Product successfully added.\");\n        setName(\"\");\n        setDescription(\"\");\n        setPrice(0);\n        closeAdd();\n      } else {\n        alert(\"Something went wrong.\");\n        closeAdd();\n      }\n    });\n  }; // ===================================================\n  // ===================================================\n  // Function for updating Product\n\n\n  const editProduct = (e, productId) => {\n    e.preventDefault();\n    fetch(`${process.env.REACT_APP_API_URL}/products/${productId}`, {\n      method: 'PUT',\n      headers: {\n        Authorization: `Bearer ${localStorage.getItem('token')}`,\n        'Content-Type': 'application/json'\n      },\n      body: JSON.stringify({\n        name: name,\n        description: description,\n        price: price\n      })\n    }).then(res => res.json()).then(data => {\n      if (data === true) {\n        fetchData();\n        alert(\"Product successfully updated.\");\n        setName(\"\");\n        setDescription(\"\");\n        setPrice(0);\n        closeEdit();\n      } else {\n        alert(\"Something went wrong.\");\n        closeEdit();\n      }\n    });\n  }; // ===================================================\n  // ===================================================\n  // getting all orders\n\n\n  useEffect(() => {\n    fetch(`${process.env.REACT_APP_API_URL}/users/orders`, {\n      headers: {\n        Authorization: `Bearer ${localStorage.getItem('token')}`\n      }\n    }).then(res => res.json()).then(data => {\n      console.log(data);\n      let orders = data.map((user, index) => {\n        console.log(user);\n        return /*#__PURE__*/_jsxDEV(Card, {\n          children: [/*#__PURE__*/_jsxDEV(Accordion.Toggle, {\n            as: Card.Header,\n            eventKey: index + 1,\n            className: \"bg-secondary text-white\",\n            children: [\"Orders for user \", /*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"text-warning\",\n              children: user.email\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 176,\n              columnNumber: 24\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 171,\n            columnNumber: 7\n          }, this), /*#__PURE__*/_jsxDEV(Accordion.Collapse, {\n            eventKey: index + 1,\n            children: /*#__PURE__*/_jsxDEV(Card.Body, {\n              children: user.orders.length > 0 ? user.orders.map(order => {\n                return /*#__PURE__*/_jsxDEV(\"div\", {\n                  children: [/*#__PURE__*/_jsxDEV(\"h6\", {\n                    children: [\"Purchased on \", moment(order.purchasedOn).format(\"MM-DD-YYYY\"), \":\"]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 184,\n                    columnNumber: 14\n                  }, this), /*#__PURE__*/_jsxDEV(\"ul\", {\n                    children: order.products.map(product => {\n                      return /*#__PURE__*/_jsxDEV(\"li\", {\n                        children: [product.productName, \" - Quantity: \", product.quantity]\n                      }, product._id, true, {\n                        fileName: _jsxFileName,\n                        lineNumber: 191,\n                        columnNumber: 18\n                      }, this);\n                    })\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 187,\n                    columnNumber: 14\n                  }, this), /*#__PURE__*/_jsxDEV(\"h6\", {\n                    children: [\"Total: \", /*#__PURE__*/_jsxDEV(\"span\", {\n                      className: \"text-warning\",\n                      children: [\"\\u20B1\", order.totalAmount]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 199,\n                      columnNumber: 22\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 198,\n                    columnNumber: 14\n                  }, this), /*#__PURE__*/_jsxDEV(\"hr\", {}, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 201,\n                    columnNumber: 14\n                  }, this)]\n                }, order._id, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 183,\n                  columnNumber: 13\n                }, this);\n              }) : /*#__PURE__*/_jsxDEV(\"span\", {\n                children: \"No orders for this user yet.\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 206,\n                columnNumber: 10\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 179,\n              columnNumber: 8\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 178,\n            columnNumber: 7\n          }, this)]\n        }, user.userId, true, {\n          fileName: _jsxFileName,\n          lineNumber: 170,\n          columnNumber: 6\n        }, this);\n      });\n      setOrdersList(orders);\n    });\n  }, []);\n\n  const toggler = () => {\n    if (toggle === true) {\n      setToggle(false);\n    } else {\n      setToggle(true);\n    }\n  }; // ===================================================\n  // ===================================================\n  // activate/deactivate product\n\n\n  useEffect(() => {\n    const activateProduct = productId => {\n      fetch(`${process.env.REACT_APP_API_URL}/products/${productId}/activate`, {\n        method: 'PUT',\n        headers: {\n          Authorization: `Bearer ${localStorage.getItem('token')}`\n        }\n      }).then(res => res.json()).then(data => {\n        if (data === true) {\n          fetchData();\n          alert(\"Product successfully activated.\");\n        } else {\n          alert(\"Something went wrong.\");\n        }\n      });\n    };\n\n    const archiveProduct = productId => {\n      fetch(`${process.env.REACT_APP_API_URL}/products/${productId}/archive`, {\n        method: 'PUT',\n        headers: {\n          Authorization: `Bearer ${localStorage.getItem('token')}`\n        }\n      }).then(res => res.json()).then(data => {\n        if (data === true) {\n          fetchData();\n          alert(\"Product successfully archived.\");\n        } else {\n          alert(\"Something went wrong.\");\n        }\n      });\n    }; // ===================================================\n    // all products\n\n\n    const productsArr = productsData.map(productData => {\n      return /*#__PURE__*/_jsxDEV(\"tr\", {\n        children: [/*#__PURE__*/_jsxDEV(\"td\", {\n          children: /*#__PURE__*/_jsxDEV(Link, {\n            to: `/products/${productData._id}`,\n            children: productData.name\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 291,\n            columnNumber: 7\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 290,\n          columnNumber: 6\n        }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n          children: productData.description\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 295,\n          columnNumber: 6\n        }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n          children: productData.price\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 296,\n          columnNumber: 6\n        }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n          children: productData.isActive ? /*#__PURE__*/_jsxDEV(\"span\", {\n            children: \"Available\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 299,\n            columnNumber: 9\n          }, this) : /*#__PURE__*/_jsxDEV(\"span\", {\n            children: \"Unavailable\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 301,\n            columnNumber: 9\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 297,\n          columnNumber: 6\n        }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n          children: [/*#__PURE__*/_jsxDEV(Button, {\n            variant: \"primary\",\n            size: \"sm\",\n            onClick: () => openEdit(productData._id),\n            children: \"Update\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 305,\n            columnNumber: 7\n          }, this), productData.isActive ? /*#__PURE__*/_jsxDEV(Button, {\n            variant: \"danger\",\n            size: \"sm\",\n            onClick: () => archiveProduct(productData._id),\n            children: \"Disable\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 313,\n            columnNumber: 9\n          }, this) : /*#__PURE__*/_jsxDEV(Button, {\n            variant: \"success\",\n            size: \"sm\",\n            onClick: () => activateProduct(productData._id),\n            children: \"Enable\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 321,\n            columnNumber: 9\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 304,\n          columnNumber: 6\n        }, this)]\n      }, productData._id, true, {\n        fileName: _jsxFileName,\n        lineNumber: 289,\n        columnNumber: 5\n      }, this);\n    });\n    setProducts(productsArr);\n  }, [productsData, fetchData]); // ===================================================\n\n  return /*#__PURE__*/_jsxDEV(React.Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"text-center my-4\",\n      children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n        children: \"Admin Dashboard\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 343,\n        columnNumber: 5\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"d-flex justify-content-center\",\n        children: [/*#__PURE__*/_jsxDEV(Button, {\n          className: \"mr-1\",\n          variant: \"primary\",\n          onClick: openAdd,\n          children: \"Add New Product\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 345,\n          columnNumber: 6\n        }, this), toggle === false ? /*#__PURE__*/_jsxDEV(Button, {\n          variant: \"success\",\n          onClick: () => toggler(),\n          children: \"Show User Orders\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 353,\n          columnNumber: 7\n        }, this) : /*#__PURE__*/_jsxDEV(Button, {\n          variant: \"danger\",\n          onClick: () => toggler(),\n          children: \"Show Product Details\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 357,\n          columnNumber: 7\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 344,\n        columnNumber: 5\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 342,\n      columnNumber: 4\n    }, this), toggle === false ? /*#__PURE__*/_jsxDEV(Table, {\n      striped: true,\n      bordered: true,\n      hover: true,\n      responsive: true,\n      children: [/*#__PURE__*/_jsxDEV(\"thead\", {\n        className: \"bg-secondary text-white\",\n        children: /*#__PURE__*/_jsxDEV(\"tr\", {\n          children: [/*#__PURE__*/_jsxDEV(\"th\", {\n            children: \"Name\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 368,\n            columnNumber: 8\n          }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n            children: \"Description\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 369,\n            columnNumber: 8\n          }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n            children: \"Price\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 370,\n            columnNumber: 8\n          }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n            children: \"Availability\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 371,\n            columnNumber: 8\n          }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n            children: \"Actions\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 372,\n            columnNumber: 8\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 367,\n          columnNumber: 7\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 366,\n        columnNumber: 6\n      }, this), /*#__PURE__*/_jsxDEV(\"tbody\", {\n        children: products\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 375,\n        columnNumber: 6\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 365,\n      columnNumber: 5\n    }, this) : /*#__PURE__*/_jsxDEV(Accordion, {\n      children: ordersList\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 380,\n      columnNumber: 5\n    }, this), /*#__PURE__*/_jsxDEV(Modal, {\n      show: showAdd,\n      onHide: closeAdd,\n      children: /*#__PURE__*/_jsxDEV(Form, {\n        onSubmit: e => addProduct(e),\n        children: [/*#__PURE__*/_jsxDEV(Modal.Header, {\n          closeButton: true,\n          children: /*#__PURE__*/_jsxDEV(Modal.Title, {\n            children: \"Add New Product\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 388,\n            columnNumber: 7\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 387,\n          columnNumber: 6\n        }, this), /*#__PURE__*/_jsxDEV(Modal.Body, {\n          children: [/*#__PURE__*/_jsxDEV(Form.Group, {\n            controlId: \"productName\",\n            children: [/*#__PURE__*/_jsxDEV(Form.Label, {\n              children: \"Name:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 393,\n              columnNumber: 9\n            }, this), /*#__PURE__*/_jsxDEV(Form.Control, {\n              type: \"text\",\n              placeholder: \"Enter product name\",\n              value: name,\n              onChange: e => setName(e.target.value),\n              required: true\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 394,\n              columnNumber: 9\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 392,\n            columnNumber: 8\n          }, this), /*#__PURE__*/_jsxDEV(Form.Group, {\n            controlId: \"productDescription\",\n            children: [/*#__PURE__*/_jsxDEV(Form.Label, {\n              children: \"Description:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 404,\n              columnNumber: 9\n            }, this), /*#__PURE__*/_jsxDEV(Form.Control, {\n              type: \"text\",\n              placeholder: \"Enter product description\",\n              value: description,\n              onChange: e => setDescription(e.target.value),\n              required: true\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 405,\n              columnNumber: 9\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 403,\n            columnNumber: 8\n          }, this), /*#__PURE__*/_jsxDEV(Form.Group, {\n            controlId: \"productPrice\",\n            children: [/*#__PURE__*/_jsxDEV(Form.Label, {\n              children: \"Price:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 415,\n              columnNumber: 9\n            }, this), /*#__PURE__*/_jsxDEV(Form.Control, {\n              type: \"number\",\n              value: price,\n              onChange: e => setPrice(e.target.value),\n              required: true\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 416,\n              columnNumber: 9\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 414,\n            columnNumber: 8\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 390,\n          columnNumber: 6\n        }, this), /*#__PURE__*/_jsxDEV(Modal.Footer, {\n          children: [/*#__PURE__*/_jsxDEV(Button, {\n            variant: \"secondary\",\n            onClick: closeAdd,\n            children: \"Close\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 426,\n            columnNumber: 7\n          }, this), /*#__PURE__*/_jsxDEV(Button, {\n            variant: \"success\",\n            type: \"submit\",\n            children: \"Submit\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 429,\n            columnNumber: 7\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 425,\n          columnNumber: 6\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 386,\n        columnNumber: 5\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 385,\n      columnNumber: 4\n    }, this), /*#__PURE__*/_jsxDEV(Modal, {\n      show: showEdit,\n      onHide: closeEdit,\n      children: /*#__PURE__*/_jsxDEV(Form, {\n        onSubmit: e => editProduct(e, id),\n        children: [/*#__PURE__*/_jsxDEV(Modal.Header, {\n          closeButton: true,\n          children: /*#__PURE__*/_jsxDEV(Modal.Title, {\n            children: \"Edit Product\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 440,\n            columnNumber: 7\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 439,\n          columnNumber: 6\n        }, this), /*#__PURE__*/_jsxDEV(Modal.Body, {\n          children: [/*#__PURE__*/_jsxDEV(Form.Group, {\n            controlId: \"productName\",\n            children: [/*#__PURE__*/_jsxDEV(Form.Label, {\n              children: \"Name:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 445,\n              columnNumber: 9\n            }, this), /*#__PURE__*/_jsxDEV(Form.Control, {\n              type: \"text\",\n              placeholder: \"Enter product name\",\n              value: name,\n              onChange: e => setName(e.target.value),\n              required: true\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 446,\n              columnNumber: 9\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 444,\n            columnNumber: 8\n          }, this), /*#__PURE__*/_jsxDEV(Form.Group, {\n            controlId: \"productDescription\",\n            children: [/*#__PURE__*/_jsxDEV(Form.Label, {\n              children: \"Description:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 456,\n              columnNumber: 9\n            }, this), /*#__PURE__*/_jsxDEV(Form.Control, {\n              type: \"text\",\n              placeholder: \"Enter product description\",\n              value: description,\n              onChange: e => setDescription(e.target.value),\n              required: true\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 457,\n              columnNumber: 9\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 455,\n            columnNumber: 8\n          }, this), /*#__PURE__*/_jsxDEV(Form.Group, {\n            controlId: \"productPrice\",\n            children: [/*#__PURE__*/_jsxDEV(Form.Label, {\n              children: \"Price:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 467,\n              columnNumber: 9\n            }, this), /*#__PURE__*/_jsxDEV(Form.Control, {\n              type: \"number\",\n              placeholder: \"Enter product price\",\n              value: price,\n              onChange: e => setPrice(e.target.value),\n              required: true\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 468,\n              columnNumber: 9\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 466,\n            columnNumber: 8\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 442,\n          columnNumber: 6\n        }, this), /*#__PURE__*/_jsxDEV(Modal.Footer, {\n          children: [/*#__PURE__*/_jsxDEV(Button, {\n            variant: \"secondary\",\n            onClick: closeEdit,\n            children: \"Close\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 479,\n            columnNumber: 7\n          }, this), /*#__PURE__*/_jsxDEV(Button, {\n            variant: \"success\",\n            type: \"submit\",\n            children: \"Submit\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 482,\n            columnNumber: 7\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 478,\n          columnNumber: 6\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 438,\n        columnNumber: 5\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 437,\n      columnNumber: 4\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 341,\n    columnNumber: 3\n  }, this);\n}\n\n_s(AdminView, \"i9rJlifcXAXo99rGEhfbskkibnM=\");\n\n_c = AdminView;\n\nvar _c;\n\n$RefreshReg$(_c, \"AdminView\");","map":{"version":3,"names":["React","useEffect","useState","Form","Table","Button","Modal","Accordion","Card","Link","moment","AdminView","props","productsData","fetchData","products","setProducts","id","setId","name","setName","description","setDescription","price","setPrice","showAdd","setShowAdd","showEdit","setShowEdit","toggle","setToggle","ordersList","setOrdersList","openAdd","closeAdd","openEdit","productId","fetch","process","env","REACT_APP_API_URL","then","res","json","data","closeEdit","addProduct","e","preventDefault","method","headers","Authorization","localStorage","getItem","body","JSON","stringify","alert","editProduct","console","log","orders","map","user","index","Header","email","length","order","purchasedOn","format","product","productName","quantity","_id","totalAmount","userId","toggler","activateProduct","archiveProduct","productsArr","productData","isActive","target","value"],"sources":["/Users/admin/Documents/myFiles/csp3FullStack/csp3FrontEnd/src/components/AdminView.js"],"sourcesContent":["import React, { useEffect, useState } from 'react';\nimport { Form, Table, Button, Modal, Accordion, Card } from 'react-bootstrap'\nimport { Link } from 'react-router-dom';\nimport moment from 'moment';;\n\nexport default function AdminView(props){\n\n\tconst { productsData, fetchData } = props;\n\tconst [ products, setProducts ] = useState([]);\n\tconst [id, setId] = useState(\"\");\n\tconst [name, setName] = useState(\"\");\n\tconst [description, setDescription] = useState(\"\");\n\tconst [price, setPrice] = useState(0);\n\tconst [showAdd, setShowAdd] = useState(false);\n\tconst [showEdit, setShowEdit] = useState(false);\n\tconst [toggle, setToggle] = useState(false);\n\tconst [ordersList, setOrdersList] = useState([]);\n\n\n// ===================================================\n// Function for add modal\n\tconst openAdd = () => setShowAdd(true);\n\tconst closeAdd = () => setShowAdd(false);\n\n// ===================================================\n\n\n\n\n\n// ===================================================\n// Function for edit modal\n\tconst openEdit = (productId) => {\n\n\t\tsetId(productId);\n\n\t\tfetch(`${ process.env.REACT_APP_API_URL }/products/${ productId }`)\n\t\t.then(res => res.json())\n\t\t.then(data => {\n\t\t\tsetName(data.name);\n\t\t\tsetDescription(data.description);\n\t\t\tsetPrice(data.price);\n\t\t});\n\n\t\tsetShowEdit(true);\n\n\t};\n\n\tconst closeEdit = () => {\n\n\t\tsetName(\"\");\n\t\tsetDescription(\"\");\n\t\tsetPrice(0);\n\t\tsetShowEdit(false);\n\n\t};\n// ===================================================\n\n\n\n// ===================================================\n// Adding Product function\n\n\tconst addProduct = (e) => {\n\n\t\te.preventDefault();\n\n\t\tfetch(`${process.env.REACT_APP_API_URL}/products`, {\n\t\t\tmethod: 'POST',\n\t\t\theaders: {\n\t\t\t\tAuthorization: `Bearer ${ localStorage.getItem('token') }`,\n\t\t\t\t'Content-Type': 'application/json'\n\t\t\t},\n\t\t\tbody: JSON.stringify({\n\t\t\t\tname: name,\n\t\t\t\tdescription: description,\n\t\t\t\tprice: price\n\t\t\t})\n\t\t})\n\t\t.then(res => res.json())\n\t\t.then(data => {\n\n\t\t\tif (data === true) {\n\n\t\t\t\tfetchData();\n\t\t\t\talert(\"Product successfully added.\");\n\t\t\t\tsetName(\"\");\n\t\t\t\tsetDescription(\"\");\n\t\t\t\tsetPrice(0);\n\t\t\t\tcloseAdd();\n\n\t\t\t} else {\n\n\t\t\t\talert(\"Something went wrong.\");\n\t\t\t\tcloseAdd();\n\n\t\t\t}\n\n\t\t});\n\n\t};\n\n// ===================================================\n\n\n// ===================================================\n// Function for updating Product\n\n\tconst editProduct = (e, productId) => {\n\n\t\te.preventDefault();\n\n\t\tfetch(`${process.env.REACT_APP_API_URL}/products/${ productId }`, {\n\t\t\tmethod: 'PUT',\n\t\t\theaders: {\n\t\t\t\tAuthorization: `Bearer ${ localStorage.getItem('token') }`,\n\t\t\t\t'Content-Type': 'application/json'\n\t\t\t},\n\t\t\tbody: JSON.stringify({\n\t\t\t\tname: name,\n\t\t\t\tdescription: description,\n\t\t\t\tprice: price\n\t\t\t})\n\n\t\t})\n\t\t.then(res => res.json())\n\t\t.then(data => {\n\n\t\t\tif (data === true) {\n\n\t\t\t\tfetchData();\n\t\t\t\talert(\"Product successfully updated.\");\n\t\t\t\tsetName(\"\");\n\t\t\t\tsetDescription(\"\");\n\t\t\t\tsetPrice(0);\n\t\t\t\tcloseEdit();\n\n\t\t\t} else {\n\n\t\t\t\talert(\"Something went wrong.\");\n\t\t\t\tcloseEdit();\n\n\t\t\t}\n\n\t\t});\n\n\t};\n// ===================================================\n\n\n// ===================================================\n// getting all orders\n\tuseEffect(()=> {\n\n\t\tfetch(`${process.env.REACT_APP_API_URL}/users/orders`, {\n\t\t\theaders: {\n\t\t\t\tAuthorization: `Bearer ${ localStorage.getItem('token') }`,\n\t\t\t}\n\t\t})\n\t\t.then(res => res.json())\n\t\t.then(data => {\n\t\t\t\n\t\t\tconsole.log(data);\n\n\t\t\tlet orders = data.map((user, index)=> {\n\n\t\t\t\tconsole.log(user);\n\n\t\t\t\treturn(\n\t\t\t\t\t<Card key={user.userId}>\n\t\t\t\t\t\t<Accordion.Toggle \n\t\t\t\t\t\t\tas={Card.Header}\n\t\t\t\t\t\t\teventKey={index + 1}\n\t\t\t\t\t\t\tclassName=\"bg-secondary text-white\"\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\tOrders for user <span className=\"text-warning\">{user.email}</span>\n\t\t\t\t\t\t</Accordion.Toggle>\n\t\t\t\t\t\t<Accordion.Collapse eventKey={index + 1}>\n\t\t\t\t\t\t\t<Card.Body>\n\t\t\t\t\t\t\t\t{ user.orders.length > 0 ?\n\t\t\t\t\t\t\t\t\t\tuser.orders.map((order) => {\n\t\t\t\t\t\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t\t\t\t\t\t<div key={order._id}>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<h6>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tPurchased on {moment(order.purchasedOn).format(\"MM-DD-YYYY\")}:\n\t\t\t\t\t\t\t\t\t\t\t\t\t</h6>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<ul>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\torder.products.map((product)=> {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<li key={product._id}>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{product.productName} - Quantity: {product.quantity}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</li>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t)\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t\t\t</ul>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<h6>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tTotal: <span className=\"text-warning\">â‚±{order.totalAmount}</span>\n\t\t\t\t\t\t\t\t\t\t\t\t\t</h6>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<hr/>\n\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t\t\t:\n\t\t\t\t\t\t\t\t\t<span>No orders for this user yet.</span>\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t</Card.Body>\n\t\t\t\t\t\t</Accordion.Collapse>\n\t\t\t\t\t</Card>\n\t\t\t\t)\n\t\t\t})\n\n\t\t\tsetOrdersList(orders);\n\n\t\t});\n\n\t}, []);\n\n\tconst toggler = () => {\n\n\t\tif(toggle === true){\n\t\t\tsetToggle(false);\n\t\t}else{\n\t\t\tsetToggle(true);\n\t\t}\n\n\t};\n\n// ===================================================\n\n\n\n// ===================================================\n// activate/deactivate product\n\n\tuseEffect(() => {\n\n\t\tconst activateProduct = (productId) => {\n\n\t\t\tfetch(`${process.env.REACT_APP_API_URL}/products/${ productId }/activate`, {\n\t\t\t\tmethod: 'PUT',\n\t\t\t\theaders: {\n\t\t\t\t\tAuthorization: `Bearer ${ localStorage.getItem('token') }`,\n\t\t\t\t}\n\t\t\t})\n\t\t\t.then(res => res.json())\n\t\t\t.then(data => {\n\n\t\t\t\tif (data === true) {\n\t\t\t\t\tfetchData();\n\t\t\t\t\talert(\"Product successfully activated.\");\n\t\t\t\t} else {\n\t\t\t\t\talert(\"Something went wrong.\");\n\t\t\t\t}\n\n\t\t\t});\n\n\t\t};\n\n\t\tconst archiveProduct = (productId) => {\n\n\t\t\tfetch(`${process.env.REACT_APP_API_URL}/products/${ productId }/archive`, {\n\t\t\t\tmethod: 'PUT',\n\t\t\t\theaders: {\n\t\t\t\t\tAuthorization: `Bearer ${ localStorage.getItem('token') }`,\n\t\t\t\t}\n\t\t\t})\n\t\t\t.then(res => res.json())\n\t\t\t.then(data => {\n\n\t\t\t\tif (data === true) {\n\t\t\t\t\tfetchData();\n\t\t\t\t\talert(\"Product successfully archived.\");\n\t\t\t\t} else {\n\t\t\t\t\talert(\"Something went wrong.\");\n\t\t\t\t}\n\n\t\t\t});\n\n\t\t};\n\n// ===================================================\n// all products\n\n\t\tconst productsArr = productsData.map(productData => {\n\n\t\t\treturn (\n\t\t\t\t<tr key={productData._id}>\n\t\t\t\t\t<td>\n\t\t\t\t\t\t<Link to={`/products/${productData._id}`}>{\n\t\t\t\t\t\t\tproductData.name}\n\t\t\t\t\t\t</Link>\n\t\t\t\t\t</td>\n\t\t\t\t\t<td>{productData.description}</td>\n\t\t\t\t\t<td>{productData.price}</td>\n\t\t\t\t\t<td>\n\t\t\t\t\t\t{ productData.isActive ?\n\t\t\t\t\t\t\t\t<span>Available</span>\n\t\t\t\t\t\t\t:\n\t\t\t\t\t\t\t\t<span>Unavailable</span>\n\t\t\t\t\t\t}\n\t\t\t\t\t</td>\n\t\t\t\t\t<td>\n\t\t\t\t\t\t<Button \n\t\t\t\t\t\t\tvariant=\"primary\" \n\t\t\t\t\t\t\tsize=\"sm\" \n\t\t\t\t\t\t\tonClick={() => openEdit(productData._id)}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\tUpdate\n\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t{ productData.isActive ?\n\t\t\t\t\t\t\t\t<Button \n\t\t\t\t\t\t\t\t\tvariant=\"danger\"\n\t\t\t\t\t\t\t\t\tsize=\"sm\"\n\t\t\t\t\t\t\t\t\tonClick={() => archiveProduct(productData._id)}\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\tDisable\n\t\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t\t:\n\t\t\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t\t\tvariant=\"success\"\n\t\t\t\t\t\t\t\t\tsize=\"sm\"\n\t\t\t\t\t\t\t\t\tonClick={() => activateProduct(productData._id)}\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t \tEnable\n\t\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t}\n\t\t\t\t\t</td>\n\t\t\t\t</tr>\n\t\t\t\t)\n\t\t\t})\n\t\t\t\n\t\tsetProducts(productsArr);\n\n\t}, [productsData, fetchData]);\n\n// ===================================================\n\n\treturn(\n\t\t<React.Fragment>\n\t\t\t<div className=\"text-center my-4\">\n\t\t\t\t<h2>Admin Dashboard</h2>\n\t\t\t\t<div className=\"d-flex justify-content-center\">\n\t\t\t\t\t<Button \n\t\t\t\t\t\tclassName=\"mr-1\"\n\t\t\t\t\t\tvariant=\"primary\"\n\t\t\t\t\t\tonClick={openAdd}\n\t\t\t\t\t>\n\t\t\t\t\t\tAdd New Product\n\t\t\t\t\t</Button>\n\t\t\t\t\t{ toggle === false ? \n\t\t\t\t\t\t<Button variant=\"success\" onClick={()=> toggler()}>\n\t\t\t\t\t\t\tShow User Orders\n\t\t\t\t\t\t</Button>\n\t\t\t\t\t: \n\t\t\t\t\t\t<Button variant=\"danger\" onClick={()=> toggler()}>\n\t\t\t\t\t\t\tShow Product Details\n\t\t\t\t\t\t</Button>\n\t\t\t\t\t}\n\t\t\t\t\t\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t\t{ toggle === false ?\n\t\t\t\t<Table striped bordered hover responsive>\n\t\t\t\t\t<thead className=\"bg-secondary text-white\">\n\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t<th>Name</th>\n\t\t\t\t\t\t\t<th>Description</th>\n\t\t\t\t\t\t\t<th>Price</th>\n\t\t\t\t\t\t\t<th>Availability</th>\n\t\t\t\t\t\t\t<th>Actions</th>\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t</thead>\n\t\t\t\t\t<tbody>\n\t\t\t\t\t\t{products}\n\t\t\t\t\t</tbody>\t\t\t\t\t\t\n\t\t\t\t</Table>\n\t\t\t:\n\t\t\t\t<Accordion>\n\t\t\t\t\t{ordersList}\n\t\t\t\t</Accordion>\n\t\t\t}\n\n\t\t\t<Modal show={showAdd} onHide={closeAdd}>\n\t\t\t\t<Form onSubmit={e => addProduct(e)}>\n\t\t\t\t\t<Modal.Header closeButton>\n\t\t\t\t\t\t<Modal.Title>Add New Product</Modal.Title>\n\t\t\t\t\t</Modal.Header>\n\t\t\t\t\t<Modal.Body>\n\n\t\t\t\t\t\t\t<Form.Group controlId=\"productName\">\n\t\t\t\t\t\t\t\t<Form.Label>Name:</Form.Label>\n\t\t\t\t\t\t\t\t<Form.Control \n\t\t\t\t\t\t\t\t\ttype=\"text\"\n\t\t\t\t\t\t\t\t\tplaceholder=\"Enter product name\"\n\t\t\t\t\t\t\t\t\tvalue={name}\n\t\t\t\t\t\t\t\t\tonChange={e => setName(e.target.value)}\n\t\t\t\t\t\t\t\t\trequired\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</Form.Group>\n\n\t\t\t\t\t\t\t<Form.Group controlId=\"productDescription\">\n\t\t\t\t\t\t\t\t<Form.Label>Description:</Form.Label>\n\t\t\t\t\t\t\t\t<Form.Control\n\t\t\t\t\t\t\t\t\ttype=\"text\"\n\t\t\t\t\t\t\t\t\tplaceholder=\"Enter product description\"\n\t\t\t\t\t\t\t\t\tvalue={description}\n\t\t\t\t\t\t\t\t\tonChange={e => setDescription(e.target.value)}\n\t\t\t\t\t\t\t\t\trequired\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</Form.Group>\n\n\t\t\t\t\t\t\t<Form.Group controlId=\"productPrice\">\n\t\t\t\t\t\t\t\t<Form.Label>Price:</Form.Label>\n\t\t\t\t\t\t\t\t<Form.Control\n\t\t\t\t\t\t\t\t\ttype=\"number\"\n\t\t\t\t\t\t\t\t\tvalue={price}\n\t\t\t\t\t\t\t\t\tonChange={e => setPrice(e.target.value)}\n\t\t\t\t\t\t\t\t\trequired\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</Form.Group>\n\n\t\t\t\t\t</Modal.Body>\n\t\t\t\t\t<Modal.Footer>\n\t\t\t\t\t\t<Button variant=\"secondary\" onClick={closeAdd}>\n\t\t\t\t\t\t\tClose\n\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t<Button variant=\"success\" type=\"submit\">\n\t\t\t\t\t\t\tSubmit\n\t\t\t\t\t\t</Button>\n\t\t\t\t\t</Modal.Footer>\n\n\t\t\t\t</Form>\t\n\t\t\t</Modal>\n\n\t\t\t<Modal show={showEdit} onHide={closeEdit}>\n\t\t\t\t<Form onSubmit={e => editProduct(e, id)}>\n\t\t\t\t\t<Modal.Header closeButton>\n\t\t\t\t\t\t<Modal.Title>Edit Product</Modal.Title>\n\t\t\t\t\t</Modal.Header>\n\t\t\t\t\t<Modal.Body>\n\n\t\t\t\t\t\t\t<Form.Group controlId=\"productName\">\n\t\t\t\t\t\t\t\t<Form.Label>Name:</Form.Label>\n\t\t\t\t\t\t\t\t<Form.Control\n\t\t\t\t\t\t\t\t\ttype=\"text\"\n\t\t\t\t\t\t\t\t\tplaceholder=\"Enter product name\"\n\t\t\t\t\t\t\t\t\tvalue={name}\n\t\t\t\t\t\t\t\t\tonChange={e => setName(e.target.value)}\n\t\t\t\t\t\t\t\t\trequired\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</Form.Group>\n\n\t\t\t\t\t\t\t<Form.Group controlId=\"productDescription\">\n\t\t\t\t\t\t\t\t<Form.Label>Description:</Form.Label>\n\t\t\t\t\t\t\t\t<Form.Control\n\t\t\t\t\t\t\t\t\ttype=\"text\"\n\t\t\t\t\t\t\t\t\tplaceholder=\"Enter product description\"\n\t\t\t\t\t\t\t\t\tvalue={description}\n\t\t\t\t\t\t\t\t\tonChange={e => setDescription(e.target.value)}\n\t\t\t\t\t\t\t\t\trequired\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</Form.Group>\n\n\t\t\t\t\t\t\t<Form.Group controlId=\"productPrice\">\n\t\t\t\t\t\t\t\t<Form.Label>Price:</Form.Label>\n\t\t\t\t\t\t\t\t<Form.Control\n\t\t\t\t\t\t\t\t\ttype=\"number\"\n\t\t\t\t\t\t\t\t\tplaceholder=\"Enter product price\"\n\t\t\t\t\t\t\t\t\tvalue={price}\n\t\t\t\t\t\t\t\t\tonChange={e => setPrice(e.target.value)}\n\t\t\t\t\t\t\t\t\trequired\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</Form.Group>\n\n\t\t\t\t\t</Modal.Body>\n\t\t\t\t\t<Modal.Footer>\n\t\t\t\t\t\t<Button variant=\"secondary\" onClick={closeEdit}>\n\t\t\t\t\t\t\tClose\n\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t<Button variant=\"success\" type=\"submit\">\n\t\t\t\t\t\t\tSubmit\n\t\t\t\t\t\t</Button>\n\t\t\t\t\t</Modal.Footer>\n\t\t\t\t</Form>\t\n\t\t\t</Modal>\n\t\t</React.Fragment>\n\t);\n\t\n}\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}