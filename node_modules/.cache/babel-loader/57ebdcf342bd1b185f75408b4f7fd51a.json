{"ast":null,"code":"var _jsxFileName = \"/Users/admin/Documents/Zuitt/Courses/wdc028v1.5b/fullstack/csp3FullStack/csp3FrontEnd/src/pages/Orders.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState, useEffect } from 'react';\nimport { Container, Card, Accordion, Jumbotron } from 'react-bootstrap';\nimport { Link } from 'react-router-dom';\nimport moment from 'moment';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default function Orders() {\n  _s();\n\n  const [ordersList, setOrdersList] = useState([]);\n  useEffect(() => {\n    fetch(`${process.env.REACT_APP_API_URL}/users/myOrders`, {\n      headers: {\n        Authorization: `Bearer ${localStorage.getItem('token')}`\n      }\n    }).then(res => res.json()).then(data => {\n      if (data.length > 0) {\n        let orders = data.map((item, index) => {\n          return /*#__PURE__*/_jsxDEV(Card, {\n            children: [/*#__PURE__*/_jsxDEV(Accordion.Toggle, {\n              as: Card.Header,\n              eventKey: index + 1,\n              className: \"bg-secondary text-white\",\n              children: [\"Order #\", index + 1, \" - Purchased on: \", moment(item.purchasedOn).format(\"MM-DD-YYYY\"), \" (Click for Details)\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 26,\n              columnNumber: 8\n            }, this), /*#__PURE__*/_jsxDEV(Accordion.Collapse, {\n              eventKey: index + 1,\n              children: /*#__PURE__*/_jsxDEV(Card.Body, {\n                children: [/*#__PURE__*/_jsxDEV(\"h6\", {\n                  children: \"Items:\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 35,\n                  columnNumber: 10\n                }, this), /*#__PURE__*/_jsxDEV(\"ul\", {\n                  children: item.products.map(subitem => {\n                    fetch(`${process.env.REACT_APP_API_URL}/products/${subitem.productId}`).then(res => res.json()).then(data => {});\n                    return /*#__PURE__*/_jsxDEV(\"li\", {\n                      children: [subitem.productName, \" - Quantity: \", subitem.quantity]\n                    }, subitem._id, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 46,\n                      columnNumber: 13\n                    }, this);\n                  })\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 36,\n                  columnNumber: 10\n                }, this), /*#__PURE__*/_jsxDEV(\"h6\", {\n                  children: [\"Total: \", /*#__PURE__*/_jsxDEV(\"span\", {\n                    className: \"text-warning\",\n                    children: [\"\\u20B1\", item.totalAmount]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 56,\n                    columnNumber: 18\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 55,\n                  columnNumber: 10\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 34,\n                columnNumber: 9\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 33,\n              columnNumber: 8\n            }, this)]\n          }, item._id, true, {\n            fileName: _jsxFileName,\n            lineNumber: 25,\n            columnNumber: 7\n          }, this);\n        });\n        setOrdersList(orders);\n      }\n    });\n  }, []);\n  return ordersList.length === 0 ? /*#__PURE__*/_jsxDEV(Jumbotron, {\n    children: /*#__PURE__*/_jsxDEV(\"h3\", {\n      className: \"text-center\",\n      children: [\"No orders placed yet! \", /*#__PURE__*/_jsxDEV(Link, {\n        to: \"/products\",\n        children: \"Start shopping.\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 74,\n        columnNumber: 29\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 73,\n      columnNumber: 6\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 72,\n    columnNumber: 4\n  }, this) : /*#__PURE__*/_jsxDEV(Container, {\n    children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n      className: \"text-center my-4\",\n      children: \"Order History\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 79,\n      columnNumber: 4\n    }, this), /*#__PURE__*/_jsxDEV(Accordion, {\n      children: ordersList\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 80,\n      columnNumber: 4\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 78,\n    columnNumber: 3\n  }, this);\n}\n\n_s(Orders, \"dbht4TTJr1auoS1/VR4RC5k3Q/4=\");\n\n_c = Orders;\n\nvar _c;\n\n$RefreshReg$(_c, \"Orders\");","map":{"version":3,"names":["React","useState","useEffect","Container","Card","Accordion","Jumbotron","Link","moment","Orders","ordersList","setOrdersList","fetch","process","env","REACT_APP_API_URL","headers","Authorization","localStorage","getItem","then","res","json","data","length","orders","map","item","index","Header","purchasedOn","format","products","subitem","productId","productName","quantity","_id","totalAmount"],"sources":["/Users/admin/Documents/Zuitt/Courses/wdc028v1.5b/fullstack/csp3FullStack/csp3FrontEnd/src/pages/Orders.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { Container, Card, Accordion, Jumbotron } from 'react-bootstrap';\nimport { Link } from 'react-router-dom';\nimport moment from 'moment';\n\nexport default function Orders(){\n\n\tconst [ordersList, setOrdersList] = useState([]);\n\n\tuseEffect(()=> {\n\n\t\tfetch(`${ process.env.REACT_APP_API_URL}/users/myOrders`, {\n\t\t\theaders: {\n\t\t\t\tAuthorization: `Bearer ${ localStorage.getItem('token') }`\n\t\t\t}\n\t\t})\n\t\t.then(res => res.json())\n\t\t.then(data => {\n\n\t\t\tif (data.length > 0) {\n\n\t\t\t\tlet orders = data.map((item, index)=> {\n\n\t\t\t\t\treturn(\n\t\t\t\t\t\t<Card key={item._id}>\n\t\t\t\t\t\t\t<Accordion.Toggle \n\t\t\t\t\t\t\t\tas={Card.Header}\n\t\t\t\t\t\t\t\teventKey={index + 1}\n\t\t\t\t\t\t\t\tclassName=\"bg-secondary text-white\"\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\tOrder #{index + 1} - Purchased on: {moment(item.purchasedOn).format(\"MM-DD-YYYY\")} (Click for Details)\n\t\t\t\t\t\t\t</Accordion.Toggle>\n\t\t\t\t\t\t\t<Accordion.Collapse eventKey={index + 1}>\n\t\t\t\t\t\t\t\t<Card.Body>\n\t\t\t\t\t\t\t\t\t<h6>Items:</h6>\n\t\t\t\t\t\t\t\t\t<ul>\n\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\titem.products.map((subitem) => {\n\n\t\t\t\t\t\t\t\t\t\t\tfetch(`${ process.env.REACT_APP_API_URL}/products/${subitem.productId}`)\n\t\t\t\t\t\t\t\t\t\t\t.then(res => res.json())\n\t\t\t\t\t\t\t\t\t\t\t.then(data => {\n\t\t\t\t\t\t\t\t\t\t\t});\n\n\t\t\t\t\t\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t\t\t\t\t\t<li key={subitem._id}>\n\t\t\t\t\t\t\t\t\t\t\t\t\t{subitem.productName} - Quantity: {subitem.quantity}\n\t\t\t\t\t\t\t\t\t\t\t\t</li>\n\t\t\t\t\t\t\t\t\t\t\t);\n\n\t\t\t\t\t\t\t\t\t\t})\n\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t</ul>\n\t\t\t\t\t\t\t\t\t<h6>\n\t\t\t\t\t\t\t\t\t\tTotal: <span className=\"text-warning\">â‚±{item.totalAmount}</span>\n\t\t\t\t\t\t\t\t\t</h6>\n\t\t\t\t\t\t\t\t</Card.Body>\n\t\t\t\t\t\t\t</Accordion.Collapse>\n\t\t\t\t\t\t</Card>\n\t\t\t\t\t)\n\t\t\t\t})\n\t\n\t\t\t\tsetOrdersList(orders);\t\t\t\t\n\t\t\t}\n\t\t})\n\n\t}, []);\n\n\treturn(\n\t\tordersList.length === 0 ?\n\t\t\t<Jumbotron>\n\t\t\t\t\t<h3 className=\"text-center\">\n\t\t\t\t\t\tNo orders placed yet! <Link to=\"/products\">Start shopping.</Link>\n\t\t\t\t\t</h3>\n\t\t\t</Jumbotron>\n\t\t:\n\t\t<Container>\n\t\t\t<h2 className=\"text-center my-4\">Order History</h2>\n\t\t\t<Accordion>\n\t\t\t\t{ordersList}\n\t\t\t</Accordion>\n\t\t</Container>\n\t)\n}\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}