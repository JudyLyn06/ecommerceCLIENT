{"ast":null,"code":"var _jsxFileName = \"/Users/admin/Documents/myFiles/csp3FullStack/csp3FrontEnd/src/pages/Orders.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState, useEffect } from 'react';\nimport { Container, Card, Accordion, Jumbotron } from 'react-bootstrap';\nimport { Link } from 'react-router-dom';\nimport moment from 'moment';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default function Orders() {\n  _s();\n\n  const [ordersList, setOrdersList] = useState([]);\n  useEffect(() => {\n    fetch(`${process.env.REACT_APP_API_URL}/users/myOrders`, {\n      headers: {\n        Authorization: `Bearer ${localStorage.getItem('token')}`\n      }\n    }).then(res => res.json()).then(data => {\n      if (data.length > 0) {\n        let orders = data.map((item, index) => {\n          return /*#__PURE__*/_jsxDEV(Card, {\n            children: [/*#__PURE__*/_jsxDEV(Accordion.Toggle, {\n              as: Card.Header,\n              eventKey: index + 1,\n              className: \"bg-secondary text-white\",\n              children: [\"Order #\", index + 1, \" - Purchased on: \", moment(item.purchasedOn).format(\"MM-DD-YYYY\"), \" (Click for Details)\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 24,\n              columnNumber: 8\n            }, this), /*#__PURE__*/_jsxDEV(Accordion.Collapse, {\n              eventKey: index + 1,\n              children: /*#__PURE__*/_jsxDEV(Card.Body, {\n                children: [/*#__PURE__*/_jsxDEV(\"h6\", {\n                  children: \"Items:\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 29,\n                  columnNumber: 10\n                }, this), /*#__PURE__*/_jsxDEV(\"ul\", {\n                  children: item.products.map(subitem => {\n                    return /*#__PURE__*/_jsxDEV(\"li\", {\n                      children: [subitem.productName, \" - Quantity: \", subitem.quantity]\n                    }, subitem.productId, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 34,\n                      columnNumber: 13\n                    }, this);\n                  })\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 30,\n                  columnNumber: 10\n                }, this), /*#__PURE__*/_jsxDEV(\"h6\", {\n                  children: [\"Total: \", /*#__PURE__*/_jsxDEV(\"span\", {\n                    className: \"text-warning\",\n                    children: [\"\\u20B1\", item.totalAmount]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 40,\n                    columnNumber: 21\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 40,\n                  columnNumber: 10\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 28,\n                columnNumber: 9\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 27,\n              columnNumber: 8\n            }, this)]\n          }, item._id, true, {\n            fileName: _jsxFileName,\n            lineNumber: 23,\n            columnNumber: 7\n          }, this);\n        });\n        setOrdersList(orders);\n      }\n    });\n  }, []);\n  return ordersList.length === 0 ? /*#__PURE__*/_jsxDEV(Jumbotron, {\n    children: /*#__PURE__*/_jsxDEV(\"h3\", {\n      className: \"text-center\",\n      children: [\"No orders placed yet! \", /*#__PURE__*/_jsxDEV(Link, {\n        to: \"/products\",\n        children: \"Start shopping.\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 55,\n        columnNumber: 55\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 55,\n      columnNumber: 5\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 54,\n    columnNumber: 4\n  }, this) : /*#__PURE__*/_jsxDEV(Container, {\n    children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n      className: \"text-center my-4\",\n      children: \"Order History\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 59,\n      columnNumber: 4\n    }, this), /*#__PURE__*/_jsxDEV(Accordion, {\n      children: ordersList\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 60,\n      columnNumber: 4\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 58,\n    columnNumber: 3\n  }, this);\n}\n\n_s(Orders, \"dbht4TTJr1auoS1/VR4RC5k3Q/4=\");\n\n_c = Orders;\n\nvar _c;\n\n$RefreshReg$(_c, \"Orders\");","map":{"version":3,"names":["React","useState","useEffect","Container","Card","Accordion","Jumbotron","Link","moment","Orders","ordersList","setOrdersList","fetch","process","env","REACT_APP_API_URL","headers","Authorization","localStorage","getItem","then","res","json","data","length","orders","map","item","index","Header","purchasedOn","format","products","subitem","productName","quantity","productId","totalAmount","_id"],"sources":["/Users/admin/Documents/myFiles/csp3FullStack/csp3FrontEnd/src/pages/Orders.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { Container, Card, Accordion, Jumbotron } from 'react-bootstrap'\nimport { Link } from 'react-router-dom'\nimport moment from 'moment';\n\nexport default function Orders(){\n\n\tconst [ordersList, setOrdersList] = useState([])\n\n\n\tuseEffect(()=> {\n\n\t\tfetch(`${ process.env.REACT_APP_API_URL}/users/myOrders`, {\n\t\t\theaders: {\n\t\t\t\tAuthorization: `Bearer ${ localStorage.getItem('token') }`\n\t\t\t}\n\t\t})\n\t\t.then(res => res.json())\n\t\t.then(data => {\n\t\t\tif(data.length > 0){\n\t\t\t\tlet orders = data.map((item, index)=> {\n\t\t\t\t\treturn(\n\t\t\t\t\t\t<Card key={item._id}>\n\t\t\t\t\t\t\t<Accordion.Toggle as={Card.Header} eventKey={index + 1} className=\"bg-secondary text-white\">\n\t\t\t\t\t\t\t\tOrder #{index + 1} - Purchased on: {moment(item.purchasedOn).format(\"MM-DD-YYYY\")} (Click for Details)\n\t\t\t\t\t\t\t</Accordion.Toggle>\n\t\t\t\t\t\t\t<Accordion.Collapse eventKey={index + 1}>\n\t\t\t\t\t\t\t\t<Card.Body>\n\t\t\t\t\t\t\t\t\t<h6>Items:</h6>\n\t\t\t\t\t\t\t\t\t<ul>\n\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\titem.products.map((subitem) => {\n\t\t\t\t\t\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t\t\t\t\t\t<li key={subitem.productId}>\n\t\t\t\t\t\t\t\t\t\t\t\t{subitem.productName} - Quantity: {subitem.quantity}</li>\n\t\t\t\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t</ul>\n\t\t\t\t\t\t\t\t\t<h6>Total: <span className=\"text-warning\">â‚±{item.totalAmount}</span></h6>\n\t\t\t\t\t\t\t\t</Card.Body>\n\t\t\t\t\t\t\t</Accordion.Collapse>\n\t\t\t\t\t\t</Card>\n\t\t\t\t\t)\n\t\t\t\t})\n\t\n\t\t\t\tsetOrdersList(orders)\t\t\t\t\n\t\t\t}\n\t\t})\n\t}, [])\n\n\treturn(\n\t\tordersList.length === 0\n\t\t?<Jumbotron>\n\t\t\t\t<h3 className=\"text-center\">No orders placed yet! <Link to=\"/products\">Start shopping.</Link></h3>\n\t\t</Jumbotron>\n\t\t:\n\t\t<Container>\n\t\t\t<h2 className=\"text-center my-4\">Order History</h2>\n\t\t\t<Accordion>\n\t\t\t\t{ordersList}\n\t\t\t</Accordion>\n\t\t</Container>\n\t)\n}"],"mappings":"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"},"metadata":{},"sourceType":"module"}